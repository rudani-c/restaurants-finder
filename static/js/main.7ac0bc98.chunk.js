(this["webpackJsonprestaurants-finder"]=this["webpackJsonprestaurants-finder"]||[]).push([[0],{22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var r=n(1),a=(n(22),n(23),n(3)),s=n(4),i=n(6),c=n(5),o=n(0),u=(n(24),function(t){for(var e=t.dataPerPage,n=t.totaldata,a=t.paginate,s=t.currentPage,i=[],c=1;c<=Math.ceil(n/e);c++)i.push(c);return Object(r.jsx)("nav",{children:Object(r.jsxs)("div",{className:"pagination",children:[Object(r.jsx)("a",{onClick:function(){return a(1)},children:"\xab"}),i.map((function(t,e){var n=[];return e===s-1&&n.push("active"),Object(r.jsx)("a",{className:n.join(" "),onClick:function(){return a(t)},children:t},t)})),Object(r.jsx)("a",{onClick:function(){return a(i.length)},children:"\xbb"})]})})}),l=n(19),h=(n(25),["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"]),d=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={stateFilter:"",genreFilter:"",txtFiter:"",txtFilterActive:!1,nameSort:-1},r}return Object(s.a)(n,[{key:"filterAndSort",value:function(){var t=this,e=Object(l.a)(this.props.restaurants);return this.state.stateFilter.trim()&&(e=e.filter((function(e){return e.state.toUpperCase().includes(t.state.stateFilter.trim().toUpperCase())}))),this.state.genreFilter.trim()&&(e=e.filter((function(e){return e.genre.toUpperCase().includes(t.state.genreFilter.trim().toUpperCase())}))),this.state.txtFilterActive&&(e=e.filter((function(e){return e.name.toUpperCase().includes(t.state.txtFiter.trim().toUpperCase())||e.state.toUpperCase().includes(t.state.txtFiter.trim().toUpperCase())||e.genre.toUpperCase().includes(t.state.txtFiter.trim().toUpperCase())})),this.setState({txtFilterActive:!1})),e.sort(this.sortByName(this.state.nameSort)),e}},{key:"sortByName",value:function(t){return function(e,n){var r=e.name.toUpperCase(),a=n.name.toUpperCase();return r<a?1*t:r>a?-1*t:0}}},{key:"render",value:function(){var t=this;return Object(r.jsx)("div",{children:Object(r.jsxs)("table",{className:"restaurant-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"City"}),Object(r.jsxs)("th",{children:["State \xa0",Object(r.jsxs)("select",{name:"state",id:"stateFilter",value:this.state.stateFilter,onChange:function(e){return t.setState({stateFilter:e.target.value})},children:[Object(r.jsx)("option",{value:"",children:"--"}),h&&h.map((function(t,e){return Object(r.jsx)("option",{value:t,children:t},e)}))]})]}),Object(r.jsx)("th",{children:"Phone"}),Object(r.jsxs)("th",{children:["Genres \xa0",Object(r.jsx)("input",{type:"text",id:"genreFilter",value:this.state.genreFilter,onChange:function(e){return t.setState({genreFilter:e.target.value})},placeholder:"filter genre"})]})]})}),Object(r.jsx)("tbody",{children:this.props.restaurants&&this.filterAndSort().map((function(t,e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.name}),Object(r.jsx)("td",{children:t.city}),Object(r.jsx)("td",{children:t.state}),Object(r.jsx)("td",{children:t.telephone}),Object(r.jsx)("td",{children:t.genre})]},e)}))})]})})}}]),n}(o.Component),j=n(7),p=(n(26),function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).handleChange=r.handleChange.bind(Object(j.a)(r)),r.handleKeyDown=r.handleKeyDown.bind(Object(j.a)(r)),r}return Object(s.a)(n,[{key:"handleChange",value:function(t){this.props.onChange(t)}},{key:"handleKeyDown",value:function(t){"Enter"===t.key&&this.props.onClickHandler(t)}},{key:"render",value:function(){var t=this;return Object(r.jsxs)("div",{className:"search",children:[Object(r.jsx)("input",{type:"text",id:"txtFilter",placeholder:"search",onChange:this.handleChange,onKeyDown:this.handleKeyDown})," \xa0",Object(r.jsx)("button",{id:"txtFilterSubmit",onClick:function(e){return t.props.onClickHandler(e)},children:" Search "})]})}}]),n}(o.Component)),b=n(9),f=n(14),O=n.n(f),g=n(17),x="SET_RESTAURANTS",C=function(t){return{type:x,restaurants:t}},v=function(t){return{getRestaurantDetails:function(){return function(){var e=Object(g.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt","Content-Type":"application/json"}});case 2:if(200!==(r=e.sent).status){e.next=11;break}return e.t0=n,e.t1=C,e.next=8,r.json();case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}(fetch),m=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).paginate=function(t){r.setState({currentPage:t})},r.onChange=function(t){var e=t.target.value;r.setState({searchFilter:e}),""!==e&&void 0!==e||r.setState({gridData:r.props.restaurants})},r.onClickHandler=function(){if(r.state.searchFilter){var t=r.state.gridData.filter((function(t){return t.name.toLowerCase().indexOf(r.state.searchFilter.toLowerCase())>-1||t.city.toLowerCase().indexOf(r.state.searchFilter.toLowerCase())>-1||t.genre.toLowerCase().indexOf(r.state.searchFilter.toLowerCase())>-1}));t.length>0?r.setState({gridData:t}):r.setState({gridData:[]})}},r.state={searchFilter:"",gridData:[],currentPage:1,dataPerPage:10},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.setRestaurants()}},{key:"componentWillReceiveProps",value:function(t){this.setState({gridData:t.restaurants})}},{key:"render",value:function(){var t=this,e=this.state,n=e.currentPage,a=e.dataPerPage,s=n*a,i=s-a,c=this.state.gridData.slice(i,s);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p,{onChange:function(e){t.onChange(e)},onClickHandler:this.onClickHandler}),Object(r.jsx)(d,{restaurants:c}),Object(r.jsx)(u,{dataPerPage:a,totaldata:this.state.gridData.length,paginate:this.paginate,currentPage:n})]})}}]),n}(o.Component),F=Object(b.b)((function(t){return{restaurants:t.restaurantReducer.restaurants}}),{setRestaurants:v.getRestaurantDetails})(m);var y=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(F,{})})},S=n(8),k=n.n(S),A=n(2),D=n(15),N={restaurants:null},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(D.a)(Object(D.a)({},t),{},{restaurants:e.restaurants});default:return t}},w=n(18),U=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),s(t),i(t)}))},R=Object(A.e)(Object(A.c)({restaurantReducer:P}),Object(A.d)(Object(A.a)(w.a)));k.a.render(Object(r.jsx)(b.a,{store:R,children:Object(r.jsx)(y,{})}),document.getElementById("root")),U()}},[[37,1,2]]]);
//# sourceMappingURL=main.7ac0bc98.chunk.js.map